"use strict";(self.webpackChunktonswap_web=self.webpackChunktonswap_web||[]).push([[595],{92066:function(e,n,t){var i=t(22112),r=t(75859);n.Z=function(e){var n=e.value,t=e.decimalScale,o=void 0===t?4:t,a=e.prefix;return n?(0,r.jsx)(i.Z,{prefix:a,displayType:"text",value:n,thousandSeparator:!0,decimalScale:o}):(0,r.jsx)(r.Fragment,{children:"0"})}},17099:function(e,n,t){var i=t(15833),r=t(75859);n.Z=function(e){var n=e.height,t=e.bgcolor,o=void 0===t?"rgba(255,255,255, 0.15)":t,a=e.variant,s=e.width,c=e.style,l=void 0===c?{}:c,d=e.borderRadius,u=void 0===d?6:d;return(0,r.jsx)(i.Z,{style:l,height:n,sx:{bgcolor:o,borderRadius:u},variant:a,width:s})}},94659:function(e,n,t){var i=t(39736),r=t(75926),o=t(75174),a=t(39910),s=t(55204),c=t(99581),l=t(75),d=t(39417),u=t(55195),x=t(75859),h=(0,o.ZP)(s.Z)({display:"flex",flexDirection:"column",alignItems:"center",gap:10});n.Z=function(e){var n=e.open,t=e.children,o=(0,d.X)().adapterId,s=(0,u.$)().t,p=!c.tq&&o===l.ht.TON_HUB;return(0,x.jsx)(i.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1},backdropFilter:"blur(5px) "},open:n,children:(0,x.jsxs)(h,{children:[(0,x.jsx)(r.Z,{color:"inherit"}),t,p&&(0,x.jsx)(a.Z,{children:s("check-tonhub")})]})})}},30357:function(e,n,t){var i=t(29439),r=t(39910),o=t(6114),a=t(55204),s=t(68963),c=t(55195),l=t(19867),d=t(75859),u=(0,o.Z)(a.Z)({maxWidth:"320px",display:"flex",background:"rgba(118, 118, 128, 0.12)",borderRadius:8.91,height:32,marginLeft:"auto",marginRight:"auto",overflow:"auto",position:"relative",padding:2,width:"100%",marginTop:10,"::-webkit-scrollbar":{height:0,display:"none"}}),x=(0,o.Z)("a")({height:"100%",display:"flex",alignItems:"center",cursor:"pointer",zIndex:10,justifyContent:"center",p:{fontSize:13,pointerEvents:"none"}}),h=(0,o.Z)(a.Z)((function(e){return{transition:e.allowTransition?"0.2s all":"",position:"absolute",border:"0.5px solid rgba(0, 0, 0, 0.04)",boxShadow:" 0px 3px 8px rgba(0, 0, 0, 0.12), 0px 3px 1px rgba(0, 0, 0, 0.04)",borderRadius:6.93,height:"calc(100% - 4px)",top:"50%",transform:"translate(0, -50%)",pointerEvents:"none",background:"white"}}));var p=function(e){var n=e.width,t=e.item,i=e.onSelect,o=e.selected,a=e.index,l=e.symbol,u=(0,c.$)().t;(0,s.useEffect)((function(){o&&i(a)}),[o]);return(0,d.jsx)(x,{style:{width:n},onClick:function(){o||t.method()},children:(0,d.jsx)(r.Z,{style:{fontWeight:500},children:u(t.text,{token:l})})})};n.Z=function(e){var n=e.items,t=e.action,r=e.symbol,o=(0,s.useState)(0),a=(0,i.Z)(o,2),c=a[0],x=a[1],f=(0,s.useState)(0),m=(0,i.Z)(f,2),g=m[0],v=m[1],Z=(0,s.useState)(!1),j=(0,i.Z)(Z,2),k=j[0],b=j[1],w=(0,s.useRef)(),y=(0,s.useRef)(!0),T=(0,l.x)(),A=T.srcLoading,C=T.destLoading,I=T.txPending,S=function(e){if(y.current){var t=w.current.getBoundingClientRect().width/n.length-2;x(t*e+2),v(t)}};(0,s.useEffect)((function(){return function(){y.current=!1}}),[]),(0,s.useEffect)((function(){k||setTimeout((function(){b(!0)}),500)}),[c]);var E=A||C||I;return(0,d.jsxs)(u,{ref:w,style:{pointerEvents:E?"none":"all"},children:[(0,d.jsx)(h,{allowTransition:k,style:{left:"".concat(c,"px"),width:"".concat(g,"px")}}),n.map((function(e,i){var o=t===e.text.toLowerCase().replace("-"," ");return(0,d.jsx)(p,{symbol:r,onSelect:S,selected:o,index:i,item:e,width:"calc(100% / ".concat(n.length,")")},e.text)}))]})}},84672:function(e,n,t){var i=t(68963),r=t(79711),o=t(80124),a=t(19867),s=t(17464),c=t(18740);n.Z=function(){var e=(0,r.UO)().id,n=(0,s._)().getTokenById,t=(0,a.O)().selectToken,l=(0,c.Z)();(0,i.useEffect)((function(){if(e){var i=n(e);i?t(i):l(o.Z.swap.navigateToTokens)}}),[e,l])}},63317:function(e,n,t){t.d(n,{Z:function(){return Oe}});var i=t(74165),r=t(15861),o=t(29439),a=t(62399),s=t(75174),c=t(68963),l=t(7223),d=t(80149),u=t(4942),x=(0,t(53754).Z)((function(e){return{content:{flex:1,display:"flex",flexDirection:"column",width:"100%"},cards:{},button:(0,u.Z)({marginTop:"auto",width:"100%",marginBottom:30},e.breakpoints.down("sm"),{})}})),h=t(91478),p=t(22112),f=t(17099),m=t(6114),g=t(71451),v=t(75859),Z=(0,m.Z)(a.Z)({height:"100%",width:"100%",position:"relative",display:"flex",alignItems:"center","& .MuiOutlinedInput-notchedOutline":{border:"none"}}),j=(0,m.Z)(a.Z)({position:"absolute",left:15,top:"50%",transform:"translate(0, -50%)"});function k(e){var n=e.value,t=e.onChange,i=e.isLoading,r=e.placeholder;return(0,v.jsxs)(Z,{className:"input-container",children:[i&&(0,v.jsx)(j,{children:(0,v.jsx)(f.Z,{width:140,height:30,borderRadius:3})}),(0,v.jsx)(p.Z,{inputProps:{sx:{padding:0,border:"none",textIndent:"16px",background:"transparent"},inputMode:"decimal"},className:"input",placeholder:i?"":r,autoComplete:"off",value:i?"":n||"",customInput:h.Z,decimalScale:g.dg,decimalSeparator:".",thousandSeparator:",",onValueChange:function(e,n){var i=e.value;"prop"!==n.source&&(console.log(i),t("."===i?"0.":i))}})]})}var b=t(80124),w={image:t(24713).Z,displayName:"TON",name:"ton",color:"#1490CD",isActive:!0},y=t(55204),T=t(39910),A=t(54958),C=t(92066),I=t(55195),S=(0,m.Z)(y.Z)({height:"100%",display:"flex",alignItems:"center",gap:5,marginRight:12}),E=(0,m.Z)("button")({background:"rgba(255,255,255, 0.1)",padding:"0px 10px",borderRadius:10,height:"100%",cursor:"pointer",p:{color:"white",fontSize:12,fontWeight:500}});var L=function(e){var n=e.loading,t=e.availableAmount,i=e.onMaxAmountClick,r=e.showMax,o=(0,I.$)().t;return(0,v.jsx)(S,{children:n?(0,v.jsx)(f.Z,{width:40,height:15,borderRadius:"4px"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(T.Z,{component:"p",textAlign:"right",children:[(0,v.jsx)("strong",{children:"".concat(o("balance"),": ")}),(0,v.jsx)(C.Z,{value:t})]}),r&&i&&(0,v.jsx)(E,{onClick:i,children:(0,v.jsxs)(T.Z,{children:[" ",o("max")]})})]})})},D=t(91691),N=(0,m.Z)(y.Z)({height:"100%"});var M=function(e){var n=e.tokenId,t=e.value,i=e.isLoading,r=(0,D.Z)(n,t),o=r.loading,a=r.usd;return(0,v.jsx)(N,{children:i||o?(0,v.jsx)(f.Z,{width:40,height:"15px",borderRadius:"4px"}):(0,v.jsxs)(T.Z,{component:"p",children:["~$",(0,v.jsx)(C.Z,{value:a,decimalScale:2})]})})},R=t(18740),U=t(74650),F=t(88027),W=t(39417),O=t(94361),B=t(11480),X=t(77563),z=t(75),K=t(19867),P=t(5922),H=t(42117),q=t(3109),Y=t(48604),G=(0,s.ZP)(a.Z)({display:"flex",flexDirection:"row",justifyContent:"baseline",position:"relative",top:8,left:8}),V=(0,s.ZP)(a.Z)({position:"relative",bottom:2,color:"white"}),J=function(e){var n=e.show,t=e.changeShow,i=(0,I.$)().t;return(0,v.jsx)(H.Z,{onClick:t,children:(0,v.jsxs)(G,{onClick:t,children:[(0,v.jsx)(T.Z,{children:i(n?"less-info":"more-info")}),(0,v.jsx)(V,{children:n?(0,v.jsx)(q.Z,{}):(0,v.jsx)(Y.Z,{})})]})})},Q=(0,s.ZP)(a.Z)({display:"flex",flexDirection:"row",justifyContent:"space-between"}),_=function(e){var n=e.title,t=e.value;return(0,v.jsxs)(Q,{children:[(0,v.jsx)(T.Z,{component:"p",textAlign:"left",children:n}),(0,v.jsx)(T.Z,{component:"p",textAlign:"right",children:t})]})},$=t(71321),ee=(0,m.Z)(y.Z)({borderRadius:12,paddingRight:12,display:"flex",position:"relative",overflow:"hidden",flexDirection:"column"}),ne=function(e){var n=e.delta,t=e.actionType,a=(0,I.$)().t,s=(0,K.x)().selectedToken,l=(0,c.useState)(),d=(0,o.Z)(l,2),u=d[0],x=d[1],h=(0,c.useState)(!1),p=(0,o.Z)(h,2),f=p[0],m=p[1],g=Number(null===u||void 0===u?void 0:u.impact)>5?(0,v.jsxs)("span",{children:[a("price-impact")," ",(0,v.jsx)("span",{style:{color:"#FC5656",fontSize:13},children:a("warning")})]}):a("price-impact"),Z=Number(null===u||void 0===u?void 0:u.impact)>5?(0,v.jsxs)("span",{style:{color:"#FC5656",fontSize:13},children:[null===u||void 0===u?void 0:u.impact,"%"]}):(null===u||void 0===u?void 0:u.impact)+"%",j=function(e){var n=e.X,t=e.gamma,i=e.deltaX;return(100*((n*(1-t)+i*t)/(n+i*t))).toFixed(2)},k=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(r){var o,a,s,c,l,d,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=14;break}return e.next=3,X.kI(null===r||void 0===r?void 0:r.tokenMinter);case 3:o=e.sent,a=Number(n),s=t===z.Us.BUY?parseFloat((0,P.wE)(o.tonReserves,9)):parseFloat((0,P.wE)(o.tokenReserves,r.decimals)),.003,.997,c=X.et.SWAP,.005,l=j({X:s,gamma:.997,deltaX:a}),d=.3.toFixed(2),u=.5.toFixed(2),x({tradeFee:d,gasFee:c,slippage:u,impact:l});case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){k(s)}),[n]),(0,v.jsxs)(ee,{className:"swap-card",children:[Number(null===u||void 0===u?void 0:u.impact)>5&&!f&&(0,v.jsx)($.Z,{timeout:200,in:!f,children:(0,v.jsxs)(y.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,v.jsx)(T.Z,{component:"span",sx:{color:"#FC5656",fontSize:13},children:a("impact-warning")})," ",Z]})}),(0,v.jsx)(J,{show:f,changeShow:function(){m(!f)}}),(0,v.jsxs)(B.Z,{orientation:"vertical",in:f,children:[(0,v.jsx)(_,{title:a("gas-fee"),value:"".concat(null===u||void 0===u?void 0:u.gasFee," TON")}),(0,v.jsx)(_,{title:a("trade-fee"),value:"".concat(null===u||void 0===u?void 0:u.tradeFee,"%")}),(0,v.jsx)(_,{title:a("max-slippage"),value:"".concat(null===u||void 0===u?void 0:u.slippage,"%")}),(0,v.jsx)(_,{title:g,value:Z})]})]})};var te=function(e){var n=e.inputAmount,t=e.onChange,i=e.token,r=e.isLoading,o=e.balanceLoading,a=e.balance,s=e.onMaxAmount,c=e.showMax,l=e.srcTokenAmount,d=e.actionType,u=(0,U.Pt)(),x=(0,R.Z)(),h=(0,U.sy)().operationType,p=(0,W.X)().address,f=i.name===w.name;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(ie,{className:"swap-card",children:[(0,v.jsx)(le,{color:i.color}),(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsxs)(ce,{expanded:u,children:[(0,v.jsx)(k,{placeholder:"0",isLoading:r,value:n,onChange:function(e){return t(e)}}),(0,v.jsxs)(re,{style:{cursor:f?"":"pointer",userSelect:f?"none":"all"},onClick:function(){f||(h===F.C8.SWAP?(O.Z.changeTokenInTrade(i.name),x(b.Z.swap.navigateToTokens)):(O.Z.changeTokenInManageLiquidity(i.name),x(b.Z.manageLiquidity.navigateToTokens)))},children:[i.image&&(0,v.jsx)(oe,{src:i.image,alt:"token"}),(0,v.jsx)(T.Z,{className:"name",children:i.displayName}),!f&&(0,v.jsx)("div",{className:"arrow"})]})]}),(0,v.jsx)(ae,{children:p&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(M,{isLoading:r,value:n,tokenId:i.tokenMinter}),(0,v.jsx)(L,{availableAmount:a,displayName:i.displayName,loading:o,onMaxAmountClick:function(){O.Z.onMaxClick(),null===s||void 0===s||s()},showMax:c})]})})]}),l&&(d===z.Us.BUY||d===z.Us.SELL)&&p&&(0,v.jsx)(se,{children:(0,v.jsx)(ne,{delta:l,actionType:d})})]})})},ie=(0,m.Z)(y.Z)({borderRadius:12,padding:"18px",display:"flex",position:"relative",overflow:"hidden",flexDirection:"column"}),re=(0,m.Z)(y.Z)({padding:"0px 8px",display:"flex",alignItems:"center",gap:10,position:"relative",background:"rgba(255,255,255, 0.1)",borderRadius:12,height:"100%",boxShadow:"rgb(0 0 0 / 8%) 0px 6px 10px",".name":{maxWidth:70,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},".arrow":{width:7,height:7,borderLeft:"2px solid white",borderBottom:"2px solid white",transform:"rotate(-45deg)",position:"relative",top:"-2px"},p:{color:"white",fontSize:12,fontWeight:600}}),oe=(0,m.Z)(A.Z)({width:24,height:24}),ae=(0,m.Z)(y.Z)({display:"flex",justifyContent:"space-between",alignItems:"center",height:25,marginTop:10,p:{color:"white",fontSize:12,fontWeight:400}}),se=(0,m.Z)(y.Z)({alignItems:"center",position:"relative",p:{color:"white",fontSize:12,fontWeight:400}}),ce=(0,m.Z)(y.Z)((function(e){var n=e.expanded;return{paddingRight:10,position:"relative",background:"rgba(255,255,255, 0.1)",width:"100%",borderRadius:"12px",display:"flex",alignItems:"center",height:n?54:42,padding:n?10:5,".input-container":{width:"100%",height:"100%",input:{color:"white",fontSize:29,fontWeight:600,height:"100%",paddingRight:10,textIndent:5}}}})),le=(0,m.Z)(y.Z)((function(e){return{background:e.color,width:"100%",position:"absolute",height:"100%",left:0,top:0,pointerEvents:"none",opacity:.93}})),de=t(90021),ue=t(9792),xe=t(3789);var he=function(e){var n=e.token,t=e.srcTokenName,o=e.getAmountFunc,a=e.disableInputDependency,s=e.srcTokenAmount,l=e.actionType,d=e.srcDecimals,u=e.destDecimals,x=(0,K.x)(),h=x.destTokenAmount,p=x.totalBalances,f=x.destLoading,m=x.destAvailableAmountLoading,g=x.inInput,Z=(0,K.O)(),j=Z.updateDestTokenAmount,k=Z.updateSrcTokenAmount,b=Z.updateSrcTokenLoading,w=Z.onInputChange,y=(0,c.useRef)(""),T=(0,ue.Z)((0,r.Z)((0,i.Z)().mark((function e(){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.current){e.next=2;break}return e.abrupt("return");case 2:return r=0,a="ton"===t?n.tokenMinter:t,e.prev=4,e.next=7,(0,xe.NX)(a,"ton"!==t,null,(0,P.t1)(y.current||"0",u),o);case 7:if(r=e.sent,y.current){e.next=10;break}return e.abrupt("return");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:if(e.prev=15,y.current){e.next=18;break}return e.abrupt("return");case 18:if(b(!1),0!==r){e.next=23;break}return e.abrupt("return");case 23:k((0,P.wE)(r,d));case 24:return e.finish(15);case 25:case"end":return e.stop()}}),e,null,[[4,12,15,25]])}))),600),A=function(e){j(e),a||(w(de.jM.DEST),y.current=e,e?(b(!0),T()):(b(!1),k("")))};return(0,c.useEffect)((function(){h&&g===de.jM.DEST&&A(h)}),[]),(0,v.jsx)("div",{style:{marginBottom:35},children:(0,v.jsx)(te,{isLoading:f,onChange:A,inputAmount:h,token:n,balance:p.destBalance,balanceLoading:m,srcTokenAmount:s,actionType:l})})},pe=function(e){var n=e.token,t=e.getAmountFunc,o=e.destTokenName,a=e.maxAmount,s=e.disableInputDependency,l=e.srcDecimals,d=e.destDecimals,u=(0,K.x)(),x=u.srcTokenAmount,h=u.totalBalances,p=u.srcLoading,f=u.srcAvailableAmountLoading,m=u.inInput,g=(0,W.X)().address,Z=(0,K.O)(),j=Z.updateDestTokenAmount,k=Z.updateSrcTokenAmount,b=Z.updateDestTokenLoading,w=Z.onInputChange,y=(0,c.useRef)(""),T=(0,ue.Z)((0,r.Z)((0,i.Z)().mark((function e(){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.current){e.next=2;break}return e.abrupt("return");case 2:return r=0,a="ton"===n.name?o:n.tokenMinter,e.prev=4,console.log("--\x3e",y.current,l,d),e.next=8,(0,xe.NX)(a,"ton"!==n.name,(0,P.t1)(y.current||"0",l),null,t);case 8:if(r=e.sent,y.current){e.next=11;break}return e.abrupt("return");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:if(e.prev=16,y.current){e.next=19;break}return e.abrupt("return");case 19:if(b(!1),0!==r){e.next=24;break}return e.abrupt("return");case 24:j((0,P.wE)(r,d));case 25:return e.finish(16);case 26:case"end":return e.stop()}}),e,null,[[4,13,16,26]])}))),600),A=function(e){k(e),s||(w(de.jM.SOURCE),y.current=e,e&&0!==Number(e)?(b(!0),T()):(j(""),b(!1)))};return(0,c.useEffect)((function(){x&&m===de.jM.SOURCE&&A(x)}),[]),(0,v.jsx)(te,{onMaxAmount:function(){return A(a)},isLoading:p,onChange:A,inputAmount:x,balance:h.srcBalance,token:n,balanceLoading:f,showMax:x!==a&&!!g})},fe=t(45523),me=t(71545),ge=(0,m.Z)(y.Z)((function(e){var n=e.color,t=e.expanded;return{marginLeft:"auto",marginRight:"auto",width:t?33:28,height:t?33:28,marginTop:8,borderRadius:"50%",marginBottom:8,display:"flex",alignItems:"center",justifyContent:"center","& svg":{width:"70%","& path":{fill:n}}}}));var ve=function(e){var n=e.icon,t=e.color,i=(0,U.Pt)();return(0,v.jsx)(ge,{color:t,expanded:i,children:n})},Ze=t(45022);var je=t.p+"static/media/success.79a5c2f6fcc496326c3a8261c4463432.svg";var ke=function(e){var n=e.actionType,t=(0,K.x)(),i=t.txConfirmation,r=t.txSuccess,o=(0,K.O)().closeSuccessModal,a=(0,I.$)().t,s=(0,c.useCallback)((function(){switch(n){case z.Us.BUY:return(0,v.jsxs)(be,{title:a("purchase-confirmation"),children:[(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("token-purchased",{token:i.tokenName})}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.destTokenAmount})})]}),(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("ton-paid")}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.srcTokenAmount})})]})]});case z.Us.SELL:return(0,v.jsxs)(be,{title:a("purchase-confirmation"),children:[(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("token-received",{token:i.tokenName})}),(0,v.jsxs)(T.Z,{children:[(0,v.jsx)(C.Z,{value:i.srcTokenAmount})," "]})]}),(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("ton-received")}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.destTokenAmount})})]})]});case z.Us.REMOVE_LIQUIDITY:return(0,v.jsxs)(be,{title:a("liquidity-removed"),children:[(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("ton-removed-pool")}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.srcTokenAmount})})]}),(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("token-removed-pool",{token:i.tokenName})}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.destTokenAmount})})]})]});case z.Us.ADD_LIQUIDITY:return(0,v.jsxs)(be,{title:a("liquidity-added"),children:[(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("ton-added-pool")}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.srcTokenAmount})})]}),(0,v.jsxs)(y.Z,{className:"row",children:[(0,v.jsx)(T.Z,{children:a("token-added-pool",{token:i.tokenName})}),(0,v.jsx)(T.Z,{children:(0,v.jsx)(C.Z,{value:i.destTokenAmount})})]})]});default:return(0,v.jsx)(v.Fragment,{})}}),[n,i]);return(0,v.jsx)(l.GI,{open:r,onClose:o,maxWidth:400,children:s()})};function be(e){var n=e.children,t=e.title;return(0,v.jsxs)(Te,{children:[(0,v.jsxs)(we,{children:[(0,v.jsx)("img",{src:je,className:"icon"}),(0,v.jsx)(T.Z,{children:t})]}),(0,v.jsx)(ye,{children:n})]})}var we=(0,m.Z)(y.Z)({display:"flex",alignItems:"center",gap:22,flexDirection:"column","& p":{fontSize:19,fontWeight:500},"& .icon":{width:45,height:45,objectFit:"contain"}}),ye=(0,m.Z)(y.Z)({display:"flex",flexDirection:"column",gap:13,width:"100%"}),Te=(0,m.Z)(y.Z)({display:"flex",flexDirection:"column",gap:19,alignItems:"center",width:"100%","& *":{color:"black"},"& .row":{display:"flex",gap:40,background:"#EEEEEE",borderRadius:12,minHeight:49,width:"100%",alignItems:"center",justifyContent:"space-between",padding:"10px 20px","& p":{fontSize:14}}});var Ae=function(e,n,t,i){var r=(0,K.x)(),o=r.totalBalances,a=r.srcTokenAmount,s=r.destTokenAmount,l=r.txPending;return(0,c.useMemo)((function(){var r=o.srcBalance,c=!a||"0"===a||!s||"0"===s||l,d=Number(n+.01).toFixed(2),u=!1;if(e===z.Us.BUY){var x=(0,P.xI)(o.srcBalance,t.decimals).sub((0,P.xI)(d));r=(0,P.wE)(x,9),u=(0,P.xI)(a,t.decimals).gt(x)}if(e===z.Us.SELL&&(u=(0,P.xI)(a,t.decimals).gt((0,P.xI)(o.srcBalance,t.decimals))),e===z.Us.ADD_LIQUIDITY){var h=(0,P.xI)(o.srcBalance,t.decimals).sub((0,P.xI)(d));r=(0,P.wE)(h,t.decimals);var p=(0,P.xI)(a,t.decimals).gt(h),f=(0,P.xI)(s,i.decimals).gt((0,P.xI)(o.destBalance,i.decimals));u=p||f}if(e===z.Us.REMOVE_LIQUIDITY){var m=(0,P.xI)(a,t.decimals).gt((0,P.xI)(o.srcBalance,t.decimals)),g=(0,P.xI)(s,i.decimals).gt((0,P.xI)(o.destBalance,i.decimals));u=m||g}return{insufficientFunds:!c&&u,disabled:c,maxAmount:r}}),[t,a,n,o,s,e])},Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAflBMVEXXWkr////XV0fWU0HWVUT66+nUSjbWVkXVTjv56ejUSDTWVELWUT/67evVUT/VTzzaaFrbb2Lff3Tqsav019Tlm5PijoX99/bZY1TYXk/pq6TxzMj44+Huwbzrta/bbmDhiH7wx8T23drnoprtvLfddmrjlYzghHrffXLkmJCOc5xsAAALCUlEQVR4nOWd14KjOgyGsWHAoU+GkN6WJLvn/V/wQEjBhGKw5EDmvzqV8K1sSZZloxF0zb3ouFvN4ul5Hy6W2nIR7s/TeLY6HSNvjv/zGubDveg0Oy9dkwW+7liUUi1X+leWo/sBM93leXaKPMyXwCL01snZtZnvPLCqRanjM9s9J2ssTAxCbxsvGNOb0UqgesCWlyMGJTThPEpCO3C60D0oncAOL2vgF4IlnK9jl/Wie1IyN4aFBCRcHwJmSNDdZTAfEhKK8M9/LgjeHdJIJkBvBkO4DU0HDC+Xbp63IO8GQOit3EBm7tWJBu4KwLlKE07iwEfAy+UHF+nBKkk4OdjQw5OXYx8kGaUINwcTzrvUyTDlGCUIvYONz3dltA8S87E34TxRYL8Ho5n0XoX0JTwZeP6lSr5xUkq4CZlSvkws3KgjnJkY8a9N1JwpIow0tQP0KV+LVBBe3mLAXNS8oBP+Wb7LgLn85R9cwtUbDZiLmitEwvl38Ga+TMF3p9jYhTAy1MX4JhlGF4fTgXBlv3uE3kXtHwzCqfogXy/2F5xwHurvpuKkh6KTUZBwY1jvZirJMgSTODHCNRvKFHyKMjF/I0R4st+NUylbaLkhQrgbJmCKuIMh/DHfTVIrUyBqtBOuhguYIrancK2EgwYUQWwj3A0bMEVsm4sthAP1okXZLcX/ZsLt8AFbERsJozEApoiNob+JcDKkXLtJQVNRvIFwrg0vVasWpQ1peAPhfhjrXREZ+z6Ef4e1XGqWXr9erCX8GcskzMVq87c6wpG40adqHWoN4VyqZ+Qdok6Nt6kh3A9tSd8u67sLYTKEumhXBYk44Z+hp9vVMisL/pWEown1vOhSlDAeUyQsSo/FCNfjHKOZzIp+uApCY5xjNBO1RAhn790glJP/uhH+QjhSP3rXqz99IQzHO0Yz0bCN8DSuhPtVrFwILxOOZ01YJ6OZMBmzm8nlJ02E3rjdTC7mNRAecJtF1cg51BNuxrbsrZa9qSX8O34/k8ma1hFuPmEWZuLCfpHwQ0yYBoxpNeGHzMJM9qSSMP4ER5rLOFQRejK1Gcv3YWtXkg8sxMQn4UoinTGnPz9TSD8l+0A9qSCUMGHeSReBLZ3p/YH9H8FeCbf9Cc1buXniwyBS/+Yoov5WDLYvhPveb/cMsF8gVqTGwxNOe89F+l0mlIj2/nNTZNLp8G/Nu+lPV//T3zeYmxLhrH+oKBAST9qK1CgsDSQInVmJUMKRWsW9u4kkIjW+Ck/rP0rTP3iecC1TvODSQE9qoHIWlKuKsTVHeJBJSfk/dxkrUuoBPemZ1+SEc7m9JuoUX+yr994jtThAyeATzAuER8ndNP7V+gaNkgVlN2mDY4FQapBeX86QtyL/xyQ3nzPdhmlO6Eo+DMKKkHMwl/8kjADKwKU51NkC/CiQj6up8kbwK2ECsTKUe8XSMAfIjdKgnzwIYfYqZIYZH3A8C+aFwjuhB1S+KFmxgx34cAMyRDPZ3o1QYuHEq68VqcVZsOVaInFdl1AZYQxWY+sXNBCcTC4jvhEu4bYMeWuIBQ3e8nAWTJ+8yAk9yC3D7gkcmgW1vCCVEq5BG6B4r9huxVImA2jBVMH6SpjAts/wNmkL/dRBCBMPZSW3lPAMvHPPv3QzIuYQzR5/vhKC79yLJ3ClQA87RDOxjPALfsepFDTcuhcvBXrgIZrJ9FJCqQJGjUpWrPGoKKkaL7ZOCSXqWfUquZvK1XrJyaA0m/k/KSFcRlMUH/qrErhSWMGw4DWr0cg3ThMUP8derViyIFJfOf1OCQFzNv7hfAWuhNA1Mej7EkuiSZbZmp7Oz0XOoxZL91hz8Kpgrk3w2hN4jOK6HaJwJSZzokHUaOpUGqgPxMLuElaYuItF2la+zlYv3p3cQz/VIaqrYnKP2g61V6/K3fAWxAXU/J22wu3AKKXhadAo2RX5+JGz0iQ2DoXEW2xiGGDbOEJyZlqMfcKJn3UT3smA1EWbZMXaP/S+burUHdOV3nwR+PF/GvT6t+pXuASuYEEFRwDpWevfg9HhZ/QqK0K0NbT/9F4L8X+lHDSUhIm7Qm2h4mdKIUJFmLhroS2V/E4paCgIE3cp4tOya+Q4Qkddt64qGzpvs6GieeiXvam6eajGl1YEfWW+VEk8dN8ZD5EKUdyvVAZ8ZTmNgry0BlBVXoq/tuCG6MRRvrZAXx865fUh//f460PsNT4XJq5rfO6fKFjjI9dpeAvmdRpHbZ0Gt9bG2+tea3OV1Luvco/I9VLOgs96qa6yXvqemreuqt5mTjD3LZyGfQtX3b4F3t5ThZMp/ltle09o+4f6YPYPkfaAjSYL5v+Fqj1gnH18gdK9sn18lF4ModK9gk22ay8GRj8Nb53a9Jqfqyj9NF84PVHCmy8lKyL1RMH3tXXYo1fT1wbSqV94qtOpNxE1gbv1JgL3l3ZcOaA27936S2F7hPXOPcKIQePWIwza591jjx6vge96CR9wr36vPXo0Kz569eHOW/Tco8cKGo/zFmBnZgQDfcX/yYd+qDT8cWaGLGCOGUl0WaD02FyPW+SE/4GcXeMroR3t0K3DX0z5gXW484eSr8gXNqDPH0KcIZXuFy31hsOeIZWPFyDngAU7/EVlxAVC2TUi0FluoQ5/Yd2uHLjdOCA3TId5Ht8lRUKpYVpuzuv/YqB3KsQcody9GMUL3ydS84efixI38Lzci0EkIiJ3xZ1sJIO728QhPKHEMrh4P418qAa7nyYpEUpsXxTvGJJ28XxuJHPH0KREKFH6ft7AA7MvXxioEvdEnUmZUOaur9sNPGB3fd2tKHEDT8VdXxIhkdL8ejWw1Tm1pO9rC8grocSdezS/Ig+w/IBy597n35v4UXdfFj6SUCCcfPz9pR90B23xBrnPvEd4U0P4KUbkLgH8bfd5f/6d7L/gXv3P/zbCL/i+xS/4Rsnnf2dm7GGfC/bVhJ//vSdCMBtakUXpK86v/O7a5387b7zfP6yGqfqHI/32WodvWH7+d0gJ+f70b8mO8XvARrfvAX/+N51/wXe5f8G31Uf15WprX4/RQDgfTYJKrRov00JINmOZiqzuoHEb4Vgcaq0bbSck2zEg2ttGhmZCchp+hmqXCzPdCMnP0BHN2kAoSEhWw0Y0V20ArYTDRmwHFCAku+G6G3vX/voChOQ0VMQ2JyNMONSgYR9FXl6IkERseAkcDRoDfUdCMrGGloZbVlOq1p2QzMNhLab0sCHZ7kVIyHRIeTibtr9wZ0KysocyGandHgb7EJJIH8ZktHQxH9OdkHj7IdRRg331ZaEQhFkK9+6RSgUSNRlC8mf53u1Ff1lZugckJOTyRjNS89L5fbsTkkh7lxl9rYuL6U9ISPIWM1KzeusFg5BsQuWJKmX7lyYERMJ0uWGpHaq+1VxvgifMhqq6/imj3wCVJCTewVaT41j2oVOMByNMp+PUxGe0zGm/CQhBmCYAUxt3rBr2tGuIhyVM7RgzvJWjzmIp+4EQpvMxYQFG7KABSyTmHyBhqu3ZhO6f1s1z3/jAC4YwHayXIIDzOgYzEsEyTKugCFMd/7IAwu0YzD1U9Kf1FSAhIfPjwWVSfSrUYW68Fi0yCQmUMFOUhHbQ65g5dQI7vABaLxc4YSpvGy8Y63TmmeoBW16OAK7zRRiEmbx1cnZN5jstFwZR6vjMdM/JGoMuExbhVV60u3wvA5MFvu5Y9AGb/pXl6H7AzGD5fdlFWHBXoRLmmk+i42k1i6fnfbhYastFuD9P49nqdIy+QH1Ktf4Hkl+WnLgwxm4AAAAASUVORK5CYII=";var Ie=function(){var e=(0,K.x)().txError,n=(0,K.O)().hideTxError,t=(0,c.useState)(!1),a=(0,o.Z)(t,2),s=a[0],d=a[1];(0,c.useEffect)((function(){e&&d(!0)}),[e]);var u=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),e.next=3,(0,P.gw)(500);case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(l.GI,{open:s,onClose:u,maxWidth:400,children:(0,v.jsxs)(Se,{children:[(0,v.jsx)("img",{src:Ce,className:"icon"}),(0,v.jsx)(T.Z,{children:e})]})})},Se=(0,m.Z)(y.Z)({p:{fontSize:19,fontWeight:500},display:"flex",flexDirection:"column",alignItems:"center",gap:22,img:{width:45,height:45,objectFit:"contain"}});var Ee=function(e,n){var t=(0,K.x)(),i=t.srcTokenAmount,r=t.destTokenAmount,o=t.selectedToken;return(0,c.useCallback)((function(){var t="";if(n===z.Us.BUY&&(t="Swapped ".concat(i," TON for ").concat(r," ").concat(null===o||void 0===o?void 0:o.name)),n===z.Us.SELL&&(t="Swapped ".concat(i," ").concat(null===o||void 0===o?void 0:o.name," for ").concat(r," TON")),n===z.Us.ADD_LIQUIDITY&&(t="Added ".concat(i," TON and ").concat(r," ").concat(null===o||void 0===o?void 0:o.name," liquidity")),n===z.Us.REMOVE_LIQUIDITY&&(t="Removed ".concat(i," TON and ").concat(r," ").concat(null===o||void 0===o?void 0:o.name," liquidity")),t)return O.Z.sendEvent(e,n,t)}),[e,n,i,r,o])},Le=t(39736),De=t(47507),Ne=t(36971),Me=(0,s.ZP)(a.Z)({display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"space-between",textAlign:"center",backgroundColor:"white",color:"#000",width:250,gap:20,borderRadius:10});function Re(e){return e===z.ht.TON_HUB?"Please approve this transaction in your wallet app (Tonhub)":"Wallet App"}var Ue=function(e){var n=e.open,t=e.close,o=e.confirm,a=e.adapterId,s=((0,K.x)().srcTokenAmount,function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),"https://tonhub.com/transfer",window.location.replace("https://tonhub.com/transfer"),t();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,v.jsx)(Le.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1},backdropFilter:"blur(5px) "},open:n,children:(0,v.jsxs)(Me,{children:[(0,v.jsx)(T.Z,{sx:{p:1.5},children:Re(a)}),(0,v.jsx)(De.Z,{orientation:"horizontal",sx:{position:"relative",top:20},flexItem:!0}),(0,v.jsxs)(Ne.Z,{spacing:4,direction:"row",divider:(0,v.jsx)(De.Z,{orientation:"vertical",variant:"fullWidth",flexItem:!0}),children:[(0,v.jsx)(H.Z,{variant:"text",sx:{m:.8,position:"relative",left:6},onClick:t,children:"Cancel"}),(0,v.jsx)(H.Z,{variant:"text",sx:{m:.8,position:"relative",right:6},onClick:s,children:"Wallet App"})]})]})})},Fe=t(99581),We=t(25514),Oe=function(e){var n=e.srcToken,t=e.destToken,s=e.submitButtonText,u=e.icon,h=e.getBalances,p=e.getAmountFunc,f=e.getTxRequest,m=e.refreshAmountsOnActionChange,g=e.actionCategory,Z=e.actionType,j=e.gasFee,k=e.disableInputDependency,b=e.onSuccess,w=(0,U.Pt)(),y=x({color:(null===n||void 0===n?void 0:n.color)||"",expanded:w}),T=(0,c.useState)(!1),A=(0,o.Z)(T,2),C=A[0],S=A[1],E=(0,c.useState)(""),L=(0,o.Z)(E,2),D=L[0],N=L[1],M=(0,K.x)(),R=M.txPending,F=M.srcTokenAmount,B=(0,U.mq)(),P=(0,W.X)(),H=P.address,q=P.adapterId,Y=P.session,G=Ee(g,Z),V=Ae(Z,j,n,t),J=V.insufficientFunds,Q=V.disabled,_=V.maxAmount,$=(0,K.O)(),ee=$.onResetAmounts,ne=$.getTokensBalance,te=$.resetTokensBalance,ie=$.sendTransaction,re=(0,I.$)().t,oe=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var n,t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:return n=e.sent,e.next=5,(0,X.GO)(X.Lp.openWalletFromAddress({source:Ze.Address.parse(H)}));case 5:return t=e.sent,e.next=8,fe.z.requestTransaction(q,Y,n);case 8:return"string"==typeof(r=e.sent)&&(Fe.tq?window.location.href=r:N(r)),e.next=12,t();case 12:setTimeout((function(){null===b||void 0===b||b()}),7e3),N(""),G(),ee(),ne(h);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){H&&m?ne(h):H||te()}),[H]);function ae(){N("")}return(0,v.jsxs)(me.p7,{children:[(0,v.jsx)(Ie,{}),(0,v.jsx)(Ue,{open:C,adapterId:q,close:function(){S(!1),N("")},confirm:oe}),function(){var e=(0,v.jsx)(l.GI,{open:!0,onClose:ae,children:(0,v.jsxs)(Be,{children:[(0,v.jsx)("p",{children:"Please Scan using the QR code using TonKeeper"}),(0,v.jsx)(We.QRCode,{logoOpacity:.5,ecLevel:"H",size:250,value:D})]})});return D&&!Fe.tq?e:null}(),(0,v.jsx)(ke,{actionType:Z}),(0,v.jsxs)(a.Z,{className:y.content,children:[(0,v.jsxs)(a.Z,{className:y.cards,style:{pointerEvents:R?"none":"all"},children:[(0,v.jsx)(pe,{token:n,getAmountFunc:p,destTokenName:t.tokenMinter,maxAmount:_,disableInputDependency:k,srcDecimals:n.decimals,destDecimals:t.decimals}),(0,v.jsx)(ve,{icon:u,color:t.color}),(0,v.jsx)(he,{getAmountFunc:p,token:t,srcTokenName:n.tokenMinter,disableInputDependency:k,srcTokenAmount:F,actionType:Z,srcDecimals:n.decimals,destDecimals:t.decimals})]}),(0,v.jsx)(a.Z,{className:y.button,children:H?J?(0,v.jsxs)(l.Kk,{isDisabled:Q||J,onClick:function(){},children:[(0,v.jsx)(d.Z,{style:{color:"#7D7D7D",top:"-2px",position:"relative"}}),re("insufficient-funds")]}):(0,v.jsx)(l.Kk,{isLoading:C||R,isDisabled:Q||J||Z===z.Us.ADD_LIQUIDITY,onClick:function(){q===z.ht.TON_HUB&&Fe.tq?S(!0):oe()},children:s}):(0,v.jsx)(l.Kk,{onClick:function(){B(),O.Z.connect()},children:re("connect-wallet")})})]})]})},Be=(0,s.ZP)(a.Z)({display:"flex",flexDirection:"column",alignItems:"center",position:"relative",overflow:"hidden",width:"fit-content"})},51947:function(e,n,t){t.d(n,{n:function(){return de}});var i=t(29439),r=t(74165),o=t(15861),a=t(62399),s=t(39910),c=t(7223),l=t(4942),d=t(54958),u=t(53754),x=t(6114),h=t(55204),p=(0,u.Z)((function(e){return{root:(0,l.Z)({textAlign:"center",width:"100%",paddingBottom:50},e.breakpoints.down("sm"),{paddingBottom:30}),lists:{},list:{},token:{},menu:{borderRadius:"10px",padding:15,transition:"0.1s all"}}})),f=(0,x.Z)(d.Z)({width:40,height:40}),m=(0,x.Z)(h.Z)({marginLeft:"auto",opacity:.6}),g=(0,x.Z)(h.Z)((function(e){return{transition:"0.2s all",background:e.color,borderRadius:12,padding:"6px","& p":{fontSize:14,fontWeight:500,color:"white"}}})),v=((0,x.Z)(h.Z)({width:"100%",height:"100%",borderRadius:12,borderSpacing:"20px",borderStyle:"dashed",borderWidth:"1px",borderColor:"rgba(0,0,0, 0.2)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer"}),(0,x.Z)(s.Z)({marginTop:20,fontWeight:500,fontSize:14}),(0,x.Z)(h.Z)({display:"flex",flexDirection:"column",alignItems:"flex-start",justifySelf:"flex-start","& .symbol":{fontWeight:500,fontSize:17},"& .name":{fontSize:12,opacity:.6,fontWeight:400}})),Z=t(71321),j=t(68963),k=t(92066),b=t(17099),w=t(91691),y=t(42117),T=t(99581);var A=t.p+"static/media/flexing-duck.e17b0dc8fc75e959094fe92accfcb6ce.svg",C=t(13574),I=t(51998);var S=t.p+"static/media/clear.b20146948950204e3336802ef47ff914.svg",E=t(27189),L=t(75859),D=(0,x.Z)(E.I)((function(e){var n=e.isMobile;return{padding:n?"5px":"15px",paddingBottom:n?"20px":"25px",paddingTop:"15px"}})),N=(0,x.Z)(a.Z)({display:"flex",justifyContent:"flex-end",width:"100%"}),M=function(e){var n=e.open,t=e.onClose,i=e.maxWidth,r=e.minWidth,o=e.backgroundColor,s=void 0===o?"rgba(48, 48, 48, 0.8)":o,c=e.flexibleSpacings,l=void 0===c||c,d=e.children;return(0,L.jsx)(C.Z,{fullWidth:!0,onClose:t,open:n,PaperProps:{style:{width:"100%",height:"100%",maxWidth:"unset",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center"}},BackdropProps:{style:{backgroundColor:s}},children:(0,L.jsxs)(D,{isMobile:!!l&&T.tq,maxWidth:i,minWidth:r,children:[(0,L.jsx)(N,{children:(0,L.jsx)(I.Z,{onClick:t,sx:{padding:0},children:(0,L.jsx)("img",{src:S,width:24,height:24,alt:"Close icon"})})}),(0,L.jsx)(a.Z,{children:d})]})})},R=t(18366),U=t(55195),F=(0,R.Z)(a.Z)((function(e){return{width:e.isMobile?280:461,height:274,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"}})),W=(0,R.Z)(y.Z)({width:225,height:50,background:"#50A7EA",color:"#fff"}),O=function(e){var n=e.error,t=e.onClose,i=(0,U.$)().t;return(0,L.jsx)(M,{flexibleSpacings:!1,open:!!n,onClose:t,children:(0,L.jsxs)(F,{isMobile:T.tq,children:[(0,L.jsx)(s.Z,{variant:"h5",sx:{marginBottom:3},children:i(n)}),(0,L.jsx)("img",{style:{marginBottom:24},src:A,alt:"Flexing duck",width:119,height:108}),(0,L.jsx)(W,{onClick:t,children:i("close-button")})]})})},B=function(e){var n=e.token,t=e.onSelect,r=e.custom,o=e.clickDisabled,a=(0,w.Z)(n.tokenMinter,"1",0,n.isDisabled),c=a.loading,l=a.usd,d=(n.isDisabled||!parseFloat(l))&&!window.location.href.includes("manage-liquidity"),u=(0,j.useState)(null),x=(0,i.Z)(u,2),p=x[0],Z=x[1];return(0,L.jsxs)(L.Fragment,{children:[!!p&&(0,L.jsx)(O,{error:p,onClose:function(){return Z(null)}}),(0,L.jsxs)(g,{color:n.color,onClick:function(){o||(d?Z("Trading pool is empty. Try again later"):t())},style:{position:"relative"},children:[d&&(0,L.jsx)(h.Z,{sx:{cursor:"default",position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"12px",zIndex:9,background:o||!d||parseFloat(l)||c?"none":"rgba(0,0,0, .5)"}}),(0,L.jsxs)(h.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",border:r?"1px solid #fff":"none",padding:"2px 14px",borderRadius:"10px"},children:[n.image&&(0,L.jsx)(h.Z,{mr:2,children:(0,L.jsx)(f,{src:n.image,alt:"token"})}),(0,L.jsxs)(v,{children:[(0,L.jsx)(s.Z,{className:"symbol",children:n.displayName}),(0,L.jsx)(s.Z,{className:"name",children:n.name})]}),(0,L.jsx)(m,{children:c?(0,L.jsx)(b.Z,{borderRadius:"8px",width:40,height:20}):(0,L.jsx)(s.Z,{children:(0,L.jsx)(k.Z,{prefix:"$",value:l,decimalScale:6})})})]})]})]})},X=t(94659),z=t(18261);var K=t.p+"static/media/search.a87f18033e15d7c82b8db88724091db7.svg",P=function(e){var n=e.searchText,t=e.onChange,i=e.onKeyPress,r=e.onClear,o=(0,U.$)().t;return(0,L.jsx)(a.Z,{sx:{width:"100%"},children:(0,L.jsxs)(q,{children:[(0,L.jsx)("img",{src:K,alt:"Search icon",width:28,height:28,style:{marginRight:8}}),(0,L.jsx)(H,{disableUnderline:!0,value:n,placeholder:o("search-placeholder"),onChange:t,onKeyDown:i}),(0,L.jsx)(I.Z,{onClick:r,children:(0,L.jsx)("img",{src:S,alt:"Clear icon",width:24,height:24})})]})})},H=(0,x.Z)(z.Z)({width:"100%",height:"100%",border:"none",outline:"none",fontSize:14}),q=(0,x.Z)(a.Z)({height:40,display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #AEAEAE",borderRadius:"12px",padding:"0 12px"}),Y=t(45022),G=t(77563),V=t(45731),J=t(19867),Q=(0,R.Z)(a.Z)((function(e){return{padding:"0 8px",minWidth:e.isMobile?300:460,width:"100%",maxWidth:461,maxHeight:274,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"}})),_=(0,R.Z)(y.Z)({height:50,background:"#50A7EA",color:"#fff"}),$=(0,R.Z)(_)({flex:1,maxWidth:142,marginRight:2}),ee=(0,R.Z)(_)({flex:2}),ne=function(e){var n=e.foundJetton,t=e.onAddToLocalStorage,i=e.onClose,r=(0,U.$)().t,o=(0,w.Z)(n.tokenMinter,"1",0,n.isDisabled),c=o.loading,l=o.usd;return(0,L.jsx)(M,{open:!!n,onClose:i,children:(0,L.jsxs)(Q,{isMobile:T.tq,px:2,children:[(0,L.jsx)(s.Z,{variant:"h5",sx:{marginBottom:2},children:r("pool-found")}),(0,L.jsx)(a.Z,{mb:2,sx:{width:"100%"},children:(0,L.jsx)(B,{clickDisabled:!0,custom:!0,onSelect:function(){},token:n},n.tokenMinter)}),!c&&!parseFloat(l)&&(0,L.jsx)(a.Z,{mb:2,sx:{display:"flex",width:"100%"},children:(0,L.jsx)(s.Z,{children:r("empty-pool-warning")})}),(0,L.jsxs)(a.Z,{sx:{display:"flex",width:"100%"},children:[(0,L.jsx)($,{onClick:i,children:r("cancel-button")}),(0,L.jsx)(ee,{onClick:t,children:r("add-button")})]})]})})},te=t(17464),ie=t(93431),re=t(5922),oe=t(71451),ae=t(3776),se=t.n(ae);var ce=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t,i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.Address.parse(n),e.next=3,(0,G.wl)(t);case 3:return i=e.sent,e.next=6,(0,V.J6)(t,0);case 6:return o=e.sent,a=o.futureAddress,e.abrupt("return",{name:i.name,ammMinter:a.toFriendly(),tokenMinter:n,color:"#c1c1c1",displayName:i.name.toUpperCase(),image:i.image,isCustom:!0,decimals:i.decimals});case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),le=function(){var e=(0,J.O)().selectToken,n=(0,J.O)().clearStore,t=(0,te._)().addToken,a=(0,te.u)().tokens,s=(0,ie.I0)(),c=(0,j.useState)(null),l=(0,i.Z)(c,2),d=l[0],u=l[1],x=(0,j.useState)(""),h=(0,i.Z)(x,2),p=h[0],f=h[1],m=(0,j.useState)(!1),g=(0,i.Z)(m,2),v=g[0],Z=g[1],k=(0,j.useState)(null),b=(0,i.Z)(k,2),w=b[0],y=b[1],T=function(){y(null),u(null),f(""),Z(!1)},A=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.find((function(e){return e.tokenMinter===n.target.value}))){e.next=2;break}return e.abrupt("return");case 2:if("Enter"===n.key&&48!==(null===p||void 0===p?void 0:p.length)&&y("incorrect-address"),"Enter"!==n.key||48!==(null===p||void 0===p?void 0:p.length)){e.next=24;break}return Z(!0),e.prev=5,Y.Address.parse(p),e.next=9,ce(p);case 9:return t=e.sent,e.next=12,G.E3(Y.Address.parse(t.ammMinter));case 12:u(t),e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(5),null===e.t0||void 0===e.t0||!e.t0.message.includes("Got exit_code: -13")){e.next=20;break}return y("pool-not-found"),e.abrupt("return");case 20:y("incorrect-address");case 21:return e.prev=21,Z(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,15,21,24]])})));return function(n){return e.apply(this,arguments)}}();return function(e){var n=(0,j.useState)(e),t=(0,i.Z)(n,2),r=t[0],o=t[1];(0,j.useEffect)((function(){var n=setTimeout((function(){o(e)}),1e3);return function(){clearTimeout(n)}}),[e,1e3])}((function(){p.length<=5&&p.length>0&&!a.filter((function(e){return e.tokenMinter===p||e.displayName.toLowerCase().includes(p.toLowerCase())})).length&&y("jetton-not-found")})),(0,j.useEffect)((function(){d?localStorage.setItem(oe.DF,JSON.stringify(d)):localStorage.removeItem(oe.DF)}),[d]),(0,j.useEffect)((function(){e(void 0),n()}),[]),{tokens:a,foundToken:d,searchText:p,isLoading:v,error:w,onSearchTextChange:function(e){return f(e.target.value)},onClose:T,onTokenAddToLocalStorage:function(){d&&((0,re.WJ)(d),T(),s(t(d)))},onKeyPress:A}},de=function(e){var n=e.title,t=e.onTokenSelect,r=p(),o=le(),l=o.tokens,d=o.foundToken,u=o.onSearchTextChange,x=o.searchText,h=o.onTokenAddToLocalStorage,f=o.isLoading,m=o.error,g=o.onKeyPress,v=o.onClose,k=function(){var e=(0,j.useState)({width:void 0,height:void 0}),n=(0,i.Z)(e,2),t=n[0],r=n[1];return(0,j.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}(),b=k.width,w=k.height,y=(0,U.$)().t;return(0,L.jsx)(Z.Z,{in:!0,timeout:300,children:(0,L.jsxs)(a.Z,{className:r.root,children:[!!m&&(0,L.jsx)(O,{error:m,onClose:v}),!!d&&(0,L.jsx)(ne,{onClose:v,foundJetton:d,onAddToLocalStorage:h}),!!d&&(0,L.jsx)(se(),{width:b,height:w,numberOfPieces:T.tq?100:200,style:{zIndex:9999},recycle:!1}),(0,L.jsx)(X.Z,{open:f,children:(0,L.jsx)(s.Z,{children:y("searching-for-jetton")})}),(0,L.jsx)(xe,{children:(0,L.jsx)(c.Dx,{children:n})}),(0,L.jsx)(a.Z,{className:r.lists,children:(0,L.jsxs)(ue,{children:[(0,L.jsx)(P,{searchText:x,onChange:u,onKeyPress:g,onClear:v}),l.filter((function(e){return e.tokenMinter===x||e.displayName.toLowerCase().includes(x.toLowerCase())})).map((function(e){return(0,L.jsx)(B,{onSelect:function(){return t(e)},token:e,custom:e.isCustom},e.tokenMinter)}))]})})]})})},ue=(0,x.Z)(a.Z)({display:"flex",flexDirection:"column",gap:11,maxWidth:380,marginLeft:"auto",marginRight:"auto",minHeight:300}),xe=(0,x.Z)(a.Z)({position:"sticky",top:54,background:"white",zIndex:10,paddingBottom:10})},17464:function(e,n,t){t.d(n,{_:function(){return s},u:function(){return a}});var i=t(68963),r=t(93431),o=t(79869);function a(){return(0,r.v9)((function(e){return e.tokens}))}var s=function(){var e=a().tokens,n=(0,r.I0)();return{addToken:(0,i.useCallback)((function(e){n((0,o.Z)(e))}),[n]),getTokenById:(0,i.useCallback)((function(n){return e.find((function(e){return e.tokenMinter===n}))}),[e])}}}}]);